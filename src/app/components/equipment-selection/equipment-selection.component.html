<p-card>
    <ng-template pTemplate="title">Passo 5: Equipamento Inicial</ng-template>

    <div *ngIf="selectedClass" class="space-y-4">
        <div>
            <h4 class="font-bold text-red-700">Equipamento de Classe</h4>
            <p class="text-sm text-gray-600 mb-2">Faça suas escolhas de equipamento inicial.</p>
            <div *ngFor="let item of selectedClass.startingEquipment; let i = index" class="mb-3 p-3 border-l-4 border-gray-200">
                <!-- Se for uma escolha (array de strings) -->
                <div *ngIf="isEquipmentChoice(item)">
                    <div *ngFor="let option of item" class="field-radiobutton">
                        <p-radioButton [name]="'class-choice-' + i" [value]="option" 
                                       [(ngModel)]="equipmentChoices['class-choice-' + i]" 
                                       (onClick)="onChoiceChange()"
                                       [inputId]="'equip-' + i + '-' + option"></p-radioButton>
                        <label [for]="'equip-' + i + '-' + option" class="ml-2">{{ option }}</label>
                    </div>
                </div>
                <!-- Se for um item fixo (string) -->
                <div *ngIf="!isEquipmentChoice(item)">
                    <p>{{ item }}</p>
                </div>
            </div>
        </div>

        <div *ngIf="selectedBackground">
            <h4 class="font-bold text-red-700">Equipamento de Antecedente</h4>
            <ul class="list-disc list-inside mt-2 text-sm text-gray-700">
                <li *ngFor="let bgItem of selectedBackground.equipment">{{ bgItem }}</li>
            </ul>
        </div>
    </div>

    <div *ngIf="!selectedClass" class="text-center text-gray-500">
        <p>Volte e selecione uma classe para ver as opções de equipamento.</p>
    </div>
</p-card>
